# Erdős Problem 269

## Metadata

- **Status:** open
- **Formalized:** Yes ([Lean](https://github.com/google-deepmind/formal-conjectures/blob/main/FormalConjectures/ErdosProblems/269.lean))
- **Tags:** irrationality
- **Source:** [erdosproblems.com/269](https://www.erdosproblems.com/269)

## Definitions

This theorem addresses the case where the set of primes $P$ is infinite. In this case the sum is
irrational.

## Problem Statement

A positive integer $n$ has all its prime factors in the set $P$.
By convention, $1$ satisfies this for any $P$ as it has no prime divisors.

## Variants and Related Results

The infinite, strictly increasing sequence $\{a_0, a_1, \dots\}$ of integers
whose prime factors all belong to $P$.
-/
noncomputable def a (P : Set ℕ) : ℕ → ℕ := Nat.nth <| HasPrimeFactorsIn P

/--
The $n$-th partial least common multiple, $[a_0, \dots, a_{n-1}]$, which is
the LCM of the first $n$ integers in the sequence.
-/
noncomputable def partialLcm (P : Set ℕ) (n : ℕ) : ℕ :=
  -- We take the LCM of `{a P 0, ..., a P n}`.
  (Finset.range n).lcm (a P)

/--
The sum $\sum_{n=1}^\infty \frac{1}{[a_0,\ldots,a_{n - 1}]}$.
-/
noncomputable def series (P : Set ℕ) : ℝ :=  ∑' n, (1 : ℝ) / (partialLcm P n)

/--
Let $P$ be a finite set of primes with $|P| \ge 2$ and let
$\{a_1 < a_2 < \dots\}$ be the set of positive integers whose prime factors
are all in $P$. Is the sum
$$ \sum_{n=1}^\infty \frac{1}{[a_1,\ldots,a_n]} $$
rational?

Let $P$ be a finite set of primes with $|P| \ge 2$ and let
$\{a_1 < a_2 < \dots\}$ be the set of positive integers whose prime factors
are all in $P$. Is the sum
$$ \sum_{n=1}^\infty \frac{1}{[a_1,\ldots,a_n]} $$
irrational?
