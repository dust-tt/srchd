# Erdős Problem 160

## Metadata

- **Status:** open
- **Formalized:** Yes ([Lean](https://github.com/google-deepmind/formal-conjectures/blob/main/FormalConjectures/ErdosProblems/160.lean))
- **Tags:** additive combinatorics, arithmetic progressions
- **Source:** [erdosproblems.com/160](https://www.erdosproblems.com/160)

## Definitions

Let $h(n)$ be the smallest $k$ such that $\{1,\ldots,n\}$ can be coloured with $k$ colours
so that every four-term arithmetic progression must contain at least three distinct colours.
-/
noncomputable def erdos_160.h (n : ℕ) : ℕ :=
    sInf {k | ∃ (colouring : Finset.Icc 1 n → Fin k), ∀ (progression : Set ℕ),
    (progression ⊆ Finset.Icc 1 n ∧ progression.IsAPOfLength 4) →
    3 ≤ (colouring '' {k | (k : ℕ) ∈ progression}).ncard}

open Filter

/--
On [Mathoverflow](https://mathoverflow.net/a/410815) user
[leechlattice](https://mathoverflow.net/users/125498/leechlattice) shows that
$h(n) \ll n^{\frac 2 3}$.

The observation of Zachary Hunter in [that question](https://mathoverflow.net/q/410808)
coupled with the bounds of Kelley-Meka [KeMe23](https://arxiv.org/abs/2302.05537) imply that
$$h(N) \gg \exp(c(\log N)^{\frac 1 {12}})$$
for some $c > 0$.

Estimate $h(n)$ by finding a better upper bound.

Estimate $h(n)$ by finding a better lower bound.

## Problem Statement

Let $h(N)$ be the smallest $k$ such that $\{1,\ldots,N\}$ can be coloured with $k$ colours so that every four-term arithmetic progression must contain at least three distinct colours. Estimate $h(N)$.

## Background

Investigated by Erdős and Freud. This has been discussed on [MathOverflow](https://mathoverflow.net/questions/410808/what-are-bounds-on-this-van-der-waerden-esque-problem), where LeechLattice shows$h(N) \ll N^{2/3}.$In the comments of this site Hunter improves this to$h(N) \ll N^{\frac{\log 3}{\log 22}+o(1)}$(note $\frac{\log 3}{\log 22}\approx 0.355$).

The observation of Zach Hunter in that question coupled with recent progress on the size of subsets without three-term arithmetic progression (see [[BlSi23]](#cite-BlSi23-160) which improves slightly on the bounds due to Kelley and Meka [[KeMe23]](#cite-KeMe23-160)) imply that$h(N) \gg \exp(c(\log N)^{1/9})$for some $c>0$. 
                           
                    
                    

  [View the LaTeX source](/latex/160)

  This page was last edited 02 December 2025.
