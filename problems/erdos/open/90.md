# Erdős Problem 90

## Metadata

- **Status:** open
- **Prize:** $500
- **Formalized:** Yes ([Lean](https://github.com/google-deepmind/formal-conjectures/blob/main/FormalConjectures/ErdosProblems/90.lean))
- **Tags:** geometry, distances
- **OEIS:** [A186705](https://oeis.org/A186705)
- **Source:** [erdosproblems.com/90](https://www.erdosproblems.com/90)

## Definitions

Given a finite set of points, this function counts the number of **unordered pairs** of distinct
points that are at a distance of exactly 1 from each other.
-/
noncomputable def unitDistancePairsCount (points : Finset ℝ²) : ℕ :=
  (points.offDiag.filter (fun p => dist p.1 p.2 = 1)).card / 2

/--
The set of all possible numbers of unit distances for a configuration of $n$ points.
-/
noncomputable def unitDistanceCounts (n : ℕ) : Set ℕ :=
  {unitDistancePairsCount points | (points : Finset ℝ²) (_ : points.card = n)}

/--
This lemma confirms that the set of possible unit distance counts is bounded above, which
ensures that taking the supremum (`sSup`) is a well-defined operation. The trivial upper bound is
the total number of pairs of points, $\binom{n}{2}$.

## Problem Statement

The **maximum number of unit distances** determined by any set of $n$ points in the plane.
This function is often denoted as $u(n)$ in combinatorics.
-/
noncomputable def maxUnitDistances (n : ℕ) : ℕ :=
  sSup (unitDistanceCounts n)

/--
Does every set of $n$ distinct points in $\mathbb{R}^2$ contain at most
$n^{1+O(\frac{1}{\log\log n})}$ many pairs which are distance $1$ apart?

## Notes

unit distance problem
