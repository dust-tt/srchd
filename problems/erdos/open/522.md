# Erdős Problem 522

## Metadata

- **Status:** open
- **Formalized:** Yes ([Lean](https://github.com/google-deepmind/formal-conjectures/blob/main/FormalConjectures/ErdosProblems/522.lean))
- **Tags:** analysis, polynomials, probability
- **Source:** [erdosproblems.com/522](https://www.erdosproblems.com/522)

## Definitions

A *Kac Polynomial* in `n` coefficients over some subset `S` of a field `k` is a polynomial whose `n`
first coefficients are picked uniformely at random in `S` and whose other coefficients are all `0`.
-/
@[ext]
structure KacPolynomial
    {k : Type*} (n : ℕ) [Field k] [MeasurableSpace k] (S : Set k)
    (Ω : Type*) [MeasureSpace Ω] (μ : Measure k := by volume_tac) where
  toFun : Fin n.succ → Ω → k
  h_indep : ProbabilityTheory.iIndepFun toFun ℙ
  h_unif : ∀ i, MeasureTheory.pdf.IsUniform (toFun i) S ℙ μ

variable {k : Type*} (n : ℕ) [Field k] [MeasurableSpace k] (S : Set k)
    (Ω : Type*) [MeasureSpace Ω] (μ : Measure k := by volume_tac)

/--
We can always view a Kac polynomial as a random vector
-/
instance : FunLike (KacPolynomial n S Ω μ) (Fin n.succ) (Ω → k) where
  coe P := P.toFun
  coe_injective' := by intro P Q h ; aesop

namespace KacPolynomial

open scoped Polynomial

variable {n S Ω} {μ : Measure k}

/--
The random polynomial associated to a Kac polynomial
-/
noncomputable def toRandomPolynomial (f : KacPolynomial n S Ω μ) :
    Ω → k[X] := fun ω => ∑ i, Polynomial.monomial i.val (f i ω)

/--
The random multiset of roots associated to a Kac polynomial
-/
noncomputable def roots (f : KacPolynomial n S Ω μ) : Ω → Multiset k :=
    fun ω => (f.toRandomPolynomial ω).roots

end KacPolynomial

/--
Let `f(z)=∑_{0≤k≤n} ϵ_k z^k` be a random polynomial, where `ϵ_k∈{−1,1}` independently uniformly at
random for `0≤k≤n`.
Is it true that the number of roots of `f(z)` in `{z∈C:|z|≤1}` is, almost surely, `(1/2+o(1))n`?

Formalization note: here the goal seems to mean that
` ℙ(| #roots of f in unit disk - n/2 | ≥ o(1)) → 0` as `n → ∞`
This is quite awkward to formalise!

## Problem Statement

*Problem statement not available locally. See [erdosproblems.com/522](https://www.erdosproblems.com/522) for details.*

## Variants and Related Results

Erdős and Offord showed that the number of real roots of a random degree `n` polynomial with `±1`
coefficients is `(2/π+o(1))log n`.

Yakir proved that almost all Kac polynomials have `n/2+O(n^(9/10))` many roots in `{z∈C:|z|≤1}`.
